{% extends "admin_base.html" %}
{% block content %}
<h1 class="h3 mb-3">System Activity Logs</h1>
<div class="row g-3">
  <div class="col-lg-4">
    <div class="admin-card p-3 h-100">
      <h2 class="h6">Recent Messages</h2>
      <ul class="list-group list-group-flush">
        {% for m in recent_messages %}
        <li class="list-group-item px-0 small">{{ m.timestamp.strftime('%Y-%m-%d %H:%M') if m.timestamp else '' }} | from {{ m.sender_id }} to {{ m.receiver_id }}</li>
        {% else %}<li class="list-group-item px-0 text-muted">No message activity.</li>{% endfor %}
      </ul>
    </div>
  </div>
  <div class="col-lg-4">
    <div class="admin-card p-3 h-100">
      <h2 class="h6">Recent Orders</h2>
      <ul class="list-group list-group-flush">
        {% for o in recent_orders %}
        <li class="list-group-item px-0 small">#{{ o.id }} {{ o.topic }} - {{ o.status }}</li>
        {% else %}<li class="list-group-item px-0 text-muted">No order activity.</li>{% endfor %}
      </ul>
    </div>
  </div>
  <div class="col-lg-4">
    <div class="admin-card p-3 h-100">
      <h2 class="h6">Recent Announcements</h2>
      <ul class="list-group list-group-flush">
        {% for a in recent_announcements %}
        <li class="list-group-item px-0 small">{{ a.created_at.strftime('%Y-%m-%d %H:%M') if a.created_at else '' }} | {{ a.title }}</li>
        {% else %}<li class="list-group-item px-0 text-muted">No announcement activity.</li>{% endfor %}
      </ul>
    </div>
  </div>
</div>
{% endblock %}
